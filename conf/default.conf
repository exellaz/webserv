server {
	listen 127.0.0.1:4242;
	server_name server1;

	root /home/welow/webserv;

	client_body_buffer_size 8192;

	client_header_buffer_size 1024;

	client_timeout 60;

	client_max_body_size 1048576;

	error_page 404 /error_page/404.html;

	allowed_method GET; #all location block will have [ GET ]

	#test alias
	location / {
		alias /html;
		index main.html;
	}

	location /return {
		return 200 "hello world";
	}

	location /return_link {
		return 301 http://www.google.com;
	}

	location /return_500 {
		return 500 "Internal Server Error";
	}

	location /upload {
		allow_upload on;
		allowed_method POST;
	}

	#test alias
	location /test {
		alias /html;
		autoindex on;
		#index main.html;
		allowed_method GET POST;
	}

	#test root
	location /test_html {
		root /html;
		autoindex on;
		index main.html;
		allowed_method GET POST;
	}

	location /post {
		alias /html;
		index post.html;
		allowed_method GET POST;
	}

	location /delete {
		alias /html;
		index delete.html;
		allowed_method GET DELETE;
	}

	location /get {
		alias /html;
		index get.html;
	}

	location /post_file {
		alias /html;
		index post_file.html;
		allowed_method GET POST;
	}

	location /get_file {
		alias /html;
		index get_file.html;
	}

	location /delete_file {
		alias /html;
		index delete_file.html;
		allowed_method GET DELETE;
	}

	location /storage {
		alias /cgi-bin/storage;
		autoindex on;
	}

	location /cgi-bin {
		cgi_path /home/welow/webserv-test/webserv/cgi-bin;
		allowed_method GET POST DELETE;
	}

	location /hello {
		cgi_path /home/welow/webserv-test/webserv/hello;
		allowed_method GET POST DELETE;
	}

	#location /cgi-bin/ {
	#	root /home/welow/webserv-test/webserv;
	#}

	#location /cgi-bin/get_file {
	#	cgi_path /cgi-bin/get_file.cgi;
	#}

	#location /hello/ {
	#	root /home/welow/webserv-test/webserv;
	#}
}

server {
	listen 127.0.0.1:4242;
	server_name server2;

	root /home/welow/webserv-test/webserv/html;

	client_body_buffer_size 8192;

	client_header_buffer_size 1024;

	client_timeout 60;

	client_max_body_size 1048576;

	error_page 404 /error_page/404.html;

	allowed_method GET; #all location block will have [ GET ]

	#test alias
	location / {
		alias /html;
		index main2.html;
	}

	#test root
	location /html {
		root /home/welow/webserv-test/webserv;
		index main2.html;
	}

	#test autoindex
	location /list {
		alias /html;
		autoindex on;
	}

	location /post {
		alias /html;
		index post.html;
		allowed_method GET POST;
	}

	location /delete {
		alias /html;
		index delete.html;
		allowed_method GET DELETE;
	}

	location /get {
		alias /html;
		index get.html;
	}

	location /post_file {
		alias /html;
		index post_file.html;
		allowed_method GET POST;
	}

	location /get_file {
		alias /html;
		index get_file.html;
	}

	location /delete_file {
		alias /html;
		index delete_file.html;
		allowed_method GET DELETE;
	}

	location /cgi-bin {
		cgi_path /home/welow/webserv-test/webserv/cgi-bin;
	}

	location /hello {
		cgi_path /home/welow/webserv-test/webserv/hello;
	}

	#location /cgi-bin/ {
	#	root /home/welow/webserv-test/webserv;
	#}

	#location /cgi-bin/get_file {
	#	cgi_path /cgi-bin/get_file.cgi;
	#}

	#location /hello/ {
	#	root /home/welow/webserv-test/webserv;
	#}
}

server {
	listen 127.0.0.2:1234;
	server_name server3;

	root /home/welow/webserv-test/webserv/html;

	client_body_buffer_size 8192;

	client_header_buffer_size 1024;

	client_timeout 60;

	client_max_body_size 1048576;

	error_page 404 /error_page/404.html;

	allowed_method GET; #all location block will have [ GET ]

	#test alias
	location / {
		alias /html;
		index main2.html;
	}

	#test root
	location /html {
		root /home/welow/webserv-test/webserv;
		index main2.html;
	}

	#test autoindex
	location /list {
		alias /html;
		autoindex on;
	}

	location /post {
		alias /html;
		index post.html;
		allowed_method GET POST;
	}

	location /delete {
		alias /html;
		index delete.html;
		allowed_method GET DELETE;
	}

	location /get {
		alias /html;
		index get.html;
	}

	location /post_file {
		alias /html;
		index post_file.html;
		allowed_method GET POST;
	}

	location /get_file {
		alias /html;
		index get_file.html;
	}

	location /delete_file {
		alias /html;
		index delete_file.html;
		allowed_method GET DELETE;
	}

	location /cgi-bin {
		cgi_path /home/welow/webserv-test/webserv/cgi-bin;
	}

	location /hello {
		cgi_path /home/welow/webserv-test/webserv/hello;
	}

	#location /cgi-bin/ {
	#	root /home/welow/webserv-test/webserv;
	#}

	#location /cgi-bin/get_file {
	#	cgi_path /cgi-bin/get_file.cgi;
	#}

	#location /hello/ {
	#	root /home/welow/webserv-test/webserv;
	#}
}
